<?php
require_once '/session_manager.php';

$error_message = "";

if ($_SERVER['REQUEST_METHOD'] === 'POST') {
    if (isset($_POST['inputUsername']) && isset($_POST['inputPassword'])) {
        $username = trim($_POST['inputUsername']);
        $password = trim($_POST['inputPassword']);

        $login_status = login($username, $password);
        if ($login_status === true) {
            header('Location: hello.php');
            exit(); // Redirect à¤•à¥‡ à¤¬à¤¾à¤¦ exit à¤¬à¤¹à¥à¤¤ à¤œà¤¼à¤°à¥‚à¤°à¥€ à¤¹à¥‹à¤¤à¤¾ à¤¹à¥ˆ
        } else {
            $error_message = "âŒ Invalid username or password.";
        }
    }
}
?>
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>ğŸ˜ğŸ˜ Genius ğŸ˜ğŸ˜</title>
    <link href="/theme.css" rel="stylesheet">
    <style>
        .tall-row {
            margin-top: 40px;
        }
        .modal {
            position: relative;
            top: auto;
            right: auto;
            left: auto;
            bottom: auto;
            z-index: 1;
            display: block;
        }
    </style>
</head>

<body>

<nav class="navbar navbar-default navbar-static-top">
    <div class="container-fluid">
        <div class="row">
            <div class="col-lg-4 col-lg-offset-4 text-center">
                <a class="navbar-brand" href="/assets/god.jpg">ğŸ™ Radhe-Radhe ğŸ™</a>
            </div>
        </div>
    </div>
</nav>

<div class="container">
    <br><br><br>

    <div class="row">
        <div class="col-md-8 col-md-offset-2">
            <div class="well">
                <br><br>
                <form class="form-horizontal" action="index.php" method="POST" autocomplete="off">
                    <fieldset>
                        <legend>ğŸ’€ Welcome To Legend Life ğŸ’€</legend>

                        <?php if (!empty($error_message)) : ?>
                            <div class="alert alert-danger text-center"><?php echo htmlspecialchars($error_message); ?></div>
                        <?php endif; ?>

                        <div class="form-group">
                            <label for="inputUsername" class="col-lg-2 control-label">Username</label>
                            <div class="col-md-6">
                                <input class="form-control" id="inputUsername" name="inputUsername" placeholder="Username" type="text" required>
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="inputPassword" class="col-lg-2 control-label">Password</label>
                            <div class="col-md-6">
                                <input class="form-control" id="inputPassword" name="inputPassword" placeholder="Password" type="password" required>
                            </div>
                        </div>

                        <br>
                        <div class="form-group">
                            <div class="col-md-6 col-md-offset-2">
                                <button type="submit" class="btn btn-default">Login</button>
                            </div>
                        </div>
                    </fieldset>
                </form>
                <br><br>
            </div>
        </div>
    </div>

    <br><br>

    <div class="row tall-row">
        <div class="col-md-12 text-right">
            <p>Contact Me => <a href="https://mrgenius416.website3.me/"> Mr Genius Hacker </a>. &copy; 2025</p>
        </div>
    </div>
</div>

</body>
</html>
